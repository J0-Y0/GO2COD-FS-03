{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />

    <link href="{% static 'fontawesomefree/css/fontawesome.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'fontawesomefree/css/brands.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'fontawesomefree/css/solid.css' %}" rel="stylesheet" type="text/css" />
  </head>

  <body>
    {% comment %}< class="container-sm container-fluid" data-bs-theme="dark">{% endcomment %}
    {% block content %}

    {% endblock %}
    {% comment %} <script>
        window.addEventListener('scroll', () => {
          console.log('Checking if scroll reached bottom...======')
        
          if (!isScrolling) {
            isScrolling = true
            setTimeout(() => {
              checkScrollBottom()
              isScrolling = false
            }, 100)
          }
        })
        // List of Django page URLs
        const pages = ["{% url 'about' %}", "{% url 'education' %}", "{% url 'experience' %}"]
        let currentPageIndex = 0
        let isScrolling = false
        
        // Function to check if the user has reached the bottom
        function checkScrollBottom() {
          // Debug log to verify the function is triggered
          console.log('Checking if scroll reached bottom...')
        
          if (window.innerHeight + window.scrollY >= document.body.scrollHeight - 20) {
            console.log('Bottom reached! Navigating to next page.')
            goToNextPage()
          }
      }
      
      // Function to navigate to the next page
      function goToNextPage() {
        currentPageIndex += 1
        if (currentPageIndex < pages.length) {
          console.log('Navigating to:', pages[currentPageIndex]) // Debug log
          window.location.href = pages[currentPageIndex]
        } else {
          console.log('You have reached the last page.') // Handle last page case
        }
      }
      
      // Throttle the scroll event for smoother checks
    </script> {% endcomment %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>
